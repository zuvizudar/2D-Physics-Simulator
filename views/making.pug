extends layout

block header

block content 

    .container
        .row
            .col-md-8
                h1.my-4
                    | New Scene 
            .col-md-4 
                h3.mt-5
                    | Control
        .row
            .col-md-8.relative 
                canvas(id="scene")
                p.message 
                script(src="/javascripts/app1.bundle.js")    
                script(src='/javascripts/bootstrap-colorpicker.min.js')
                script(src='/javascripts/jquery.minicolors.js')
                script(src="/javascripts/bootstrap-maxlength.js")
                link(rel='stylesheet' href='/css/jquery-minicolors.css')
            .col-md-4
                .card
                    article.card-body
                        form(onsubmit="clickForm();return false;" , name="controlForm")
                            .form-group
                                label Object Type 
                                select#selectForm.form-control
                                    option(value='Circle Body') ● 
                                    option(value='Square Body') ■
                                    option(value='Triangle Body') ▲ 
                                    option(value='Bar Body') ー 
                            .form-inline
                                .form-group
                                    label.col-sm-3 X 
                                        input.col-sm-8(type='text' value = "350")
                                    label.col-sm-3 Y 
                                        input.col-sm-8(type='text' value = "250")
                            .form-group.row
                                label.col-sm-3 Angle
                                input#changeAngle.form-control-range.custom-range.col-sm-8(type='range' min="-157" max="157" )             
                            .form-group.row
                                label.col-sm-3 Scale
                                input#changeScale.form-control-range.custom-range.col-sm-8(type='range' min="50" max="200" value="100") 
                            .form-group.row
                                label.col-sm-3  密度
                                input#changeDensity.form-control-range.custom-range.col-sm-8(type='range' min="1" max="100") 
                            .form-group.row
                                label.col-sm-3  反発
                                input#changeRestitution.form-control-range.custom-range.col-sm-8(type='range' min="0" max="100") 
                            .form-group
                                label.col-xs-4.control-label Color
                                .col-xs-8
                                    input#changeColor.form-control.colorpicker(type='text' maxlength='7')
                            .form-check
                                input#changeStatic.form-check-input(type='checkbox' accesskey="q")
                                label Static 
                            .objCnt.mt-1
        h3.my-2 Add
        .row 
            .col-md-4.ml-2
                button.btn.btn-outline-primary(id="addCircle" accesskey="z") ●
                button.btn.btn-outline-primary(id="addSquare" accesskey="x") ■
                button.btn.btn-outline-primary(id="addTri" accesskey="c") ▲
                button.btn.btn-outline-primary(id="addBar" accesskey="v") ー
                button.btn.btn-outline-dark(id="addConstraint" ) 結合
                button.btn.btn-outline-danger(id="Delete" ) 削除

            .col-md-4                    
                button.btn.btn-outline-info(id="start") 開始
                button.btn.btn-outline-warning(id="stop") 停止
                button.btn.btn-outline-danger(onclick="window.location.reload()")
                    |リセット                        
            .col-md-1         
                button.btn.btn-primary(type='button', data-toggle='modal', data-target="#saveModal")
                     | 保存
                #saveModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='saveModalLabel')
                    .modal-dialog.modal-dialog-centered(role='document')
                        .modal-content
                            .modal-header
                                h5#saveModalLabel.modal-title シーンの情報を記入して下さい
                                button.close(type='button', data-dismiss='modal', aria-label='閉じる')
                                    span(aria-hidden='true') &times;
                            .modal-body
                                form(name="saveForm")
                                    .form-group
                                        label タイトル
                                        input#text1.form-control(name="title" type='text' maxlength="15")
                                    .form-group
                                        label 製作者
                                        input#text2.form-control(type='text' maxlength="10")
                                    .form-group
                                        label 説明
                                        input#text3.form-control(type='text' maxlength="30")
                                    .form-check 
                                        input.form-check-input(type='checkbox')
                                        label ライブラリとしての利用を認める 
                                    .objCnt

                            .modal-footer
                                button.btn.btn-secondary(type='button', data-dismiss='modal') 閉じる
                                button.btn.btn-primary(type='submit' id="save") 保存
            .col-md-2         
                button.btn.btn-info(type='button', data-toggle='modal', data-target="#explainModal")
                     | 操作説明
                #explainModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='explainModalLabel')
                    .modal-dialog.modal-dialog-centered(role='document')
                        .modal-content
                            .modal-header
                                h5#explainModalLabel1.modal-title 操作説明
                                button.close(type='button', data-dismiss='modal', aria-label='閉じる')
                                    span(aria-hidden='true') &times;
                            .modal-body
                                ul 
                                    li.h4 画面移動
                                    ul  
                                        li W,A,S,Dが↑,←,↓,→ に対応
                                    li.h4 ショートカットキー
                                    ul
                                        li ● : alt+z
                                        li ■ : alt+x
                                        li ▲ : alt+c 
                                        li ー : alt+v 
                                        li Static: alt+q
                                    li.h4 補足
                                    ul
                                        li 「結合」:直前二箇所にクリックしたオブジェクトを繋ぐ
                                        li 「Bumper」:当たったオブジェクトを跳ね返す
                                        

                            .modal-footer
                                button.btn.btn-secondary(type='button', data-dismiss='modal') 閉じる

        h3.my-4 Library
            .row.ml-2
                .col-md-2.col-sm-6.mb-4
                    img.img-fluid(src='img/heroLib.png' id ="addPlayer")
                .col-md-2.col-sm-6.mb-4
                    img.img-fluid(src='img/bumperLib.png' id ="addBumper")                    
                .col-md-2.col-sm-6.mb-4
                    img.img-fluid(src='img/carLib.png' id ="addCar")
                .col-md-2.col-sm-6.mb-4
                    img.img-fluid(src='img/fieldLib.png' id ="addField")
                .col-md-2.col-sm-6.mb-4
                    img.img-fluid(src='img/ballPyramidLib.png' id ="addBallPyramid")
                .col-md-2.col-sm-6.mb-4
                    img.img-fluid(src='img/furikoLib.png' id ="addFuriko")
            .row
                -
                    var list=[]
                each id in list 
                    .col-md-2.col-sm-6.mb-4
                        img.img-fluid(src=`img/${id}.png`, id ="addLib")
                form(name="searchForm").ml-3
                    .form-group
                        |Library-ID(uuid)検索
                        .ml-3.form-inline
                            input#inputPassword2.form-control(placeholder="idを入力")
                            button.btn.btn-info(type="submit",id = "search") 追加
                        .ml-3#errorMessage.text-danger.h6
    script.
        $('.colorpicker').each( function() {
            $(this).minicolors({
                format: $(this).attr('data-format') || 'hex',
                theme: 'bootstrap'
            });
        });
        $('#text1').maxlength({
            threshold: 20,
            alwaysShow: true
        });
        $('#text2').maxlength({
            alwaysShow: true
        });
        $('#text3').maxlength({
            alwaysShow: true
        });
